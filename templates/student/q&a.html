<!DOCTYPE html>
<!-- Created By CodingNepal - www.codingnepalweb.com -->
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Twitter Tweet Box UI Design | CodingNepal</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/webrtc-adapter/6.4.0/adapter.min.js"></script>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://unicons.iconscout.com/release/v3.0.6/css/line.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"/>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600;700&display=swap');
*{
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  font-family: 'Open Sans', sans-serif;
}
body{
  display: flex;
  align-items: center;
  justify-content: center;
  min-height: 100vh;
  background: #1da1f2;
}
::selection{
  color: #fff;
  background: #1da1f2;
}
.wrapper{
  background: #fff;
  max-width: 475px;
  width: 100%;
  border-radius: 15px;
  padding: 25px 25px 15px 25px;
  box-shadow: 0px 10px 15px rgba(0,0,0,0.1);
}
.input-box{
  padding-top: 10px;
  border-bottom: 1px solid #e6e6e6;
  position: relative;
}
.input-box .tweet-area{
  position: relative;
  min-height: 130px;
  max-height: 170px;
  overflow-y: auto;
}
.tweet-area::-webkit-scrollbar{
  width: 0px;
}
.tweet-area .placeholder{
  position: absolute;
  margin-top: -3px;
  font-size: 22px;
  color: #98A5B1;
  pointer-events: none;
}
.tweet-area .input{
  outline: none;
  font-size: 17px;
  min-height: inherit;
  word-wrap: break-word;
  word-break: break-all;
}
.tweet-area .editable{
  position: relative;
  z-index: 5;
}
.tweet-area .readonly{
  position: absolute;
  top: 0;
  left: 0;
  z-index: -1;
  color: transparent;
  background: transparent;
}
.readonly .highlight{
  background: #fd9bb0;
}
.input-box .privacy{
  color: #1da1f2;
  margin: 15px 0;
  display: inline-flex;
  align-items: center;
  padding: 7px 10px;
  border-radius: 50px;
  cursor: pointer;
  transition: background 0.2s ease;
}
.privacy:hover, .icons li:hover{
  background: #e7f5fe;
}
.privacy i{
  font-size: 18px;
}
.privacy span{
  font-size: 15px;
  font-weight: 600;
  margin-left: 7px;
}
.bottom{
  display: flex;
  margin-top: 13px;
  align-items: center;
  justify-content: space-between;
}
.bottom .icons{
  display: inline-flex;
}
.icons li{
  list-style: none;
  color: #1da1f2;
  font-size: 20px;
  margin: 0 2px;
  height: 38px;
  width: 38px;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 50%;
  transition: background 0.2s ease;
}
.bottom .content{
  display: flex;
  align-items: center;
  justify-content: center;
}
.bottom .counter{
  color: #333;
  display: none;
  font-weight: 500;
  margin-right: 15px;
  padding-right: 15px;
  border-right: 1px solid #aab8c2;
}
.bottom button{
  padding: 9px 18px;
  border: none;
  outline: none;
  border-radius: 50px;
  font-size: 16px;
  font-weight: 700;
  background: #1da1f2;
  color: #fff;
  cursor: pointer;
  opacity: 0.5;
  pointer-events: none;
  transition: background 0.2s ease;
}
.bottom button.active{
  opacity: 1;
  pointer-events: auto;
}
.bottom button:hover{
  background: #0d8bd9;
}

.gallery {
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.8);
  z-index: 2;
}

.gallery-content {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background: #fff;
  padding: 20px;
  border-radius: 5px;
  box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
}

.close-gallery {
  position: absolute;
  top: 10px;
  right: 10px;
  cursor: pointer;
}



.image img {
  width: 55px; /* Set the fixed width */
  height: 55px; /* Set the fixed height */
 
  border: 1px solid #ccc;
  border-radius: 5px;
}


/* Style the mic modal body */
.modal-content {
  background: #fff;
  border-radius: 10px;
  box-shadow: 0 0 20px rgba(0, 0, 0, 0.4);
  padding: 20px;
}

/* Style the modal title */
.modal-title {
  font-size: 28px;
  font-weight: 700;
  color: #333;
  margin-bottom: 15px;
}

/* Style the mic recording timer */
.qna-audio-record-timer {
  font-size: 32px;
  font-weight: 700;
  color: #1da1f2;
  margin: 20px 0;
}

/* Style the horizontal rule */
.audio-hr {
  border-top: 4px solid #1da1f2;
  max-width: 300px;
  margin: 20px auto;
}

/* Style the sound wave visualization */
.sound-wave {
  display: flex;
  justify-content: center;
  align-items: center;
  margin: 20px 0;
}

.sound-wave .bar {
  width: 8px;
  height: 40px;
  background: #1da1f2;
  margin: 0 2px;
  animation: soundWaveAnimation 0.5s alternate infinite ease-in-out;
}

@keyframes soundWaveAnimation {
  0% {
    transform: scaleY(0.5);
  }
  100% {
    transform: scaleY(1);
  }
}

/* Style the play and pause buttons */
.play, .pause {
  font-size: 32px;
  color: #1da1f2;
  cursor: pointer;
  margin: 20px 0;
}

/* Style the start and stop buttons */
.qna-audio-record-start, .qna-audio-record-stop {
  background: #1da1f2;
  color: #fff;
  font-weight: 700;
  padding: 12px 24px;
  border: none;
  border-radius: 5px;
  cursor: pointer;
  margin: 20px 0;
  transition: background 0.3s ease, color 0.3s ease;
}

.qna-audio-record-start:hover, .qna-audio-record-stop:hover {
  background: #0d8bd9;
}

/* Style the buttons for delete and add */
.buttons {
  display: flex;
  justify-content: center;
  margin: 20px 0;
}

.qna-audio-record-delete, .qna-audio-record-add {
  background: #fff;
  color: #1da1f2;
  font-weight: 700;
  padding: 12px 24px;
  border: 2px solid #1da1f2;
  border-radius: 5px;
  cursor: pointer;
  margin-right: 10px;
  transition: background 0.3s ease, color 0.3s ease;
}

.qna-audio-record-delete:hover, .qna-audio-record-add:hover {
  background: #1da1f2;
  color: #fff;
}

/* Style the close button for the mic modal */
.close-gallery {
  position: absolute;
  top: 10px;
  right: 10px;
  cursor: pointer;
  font-size: 24px;
  color: #333;
}

.close-gallery:hover {
  color: #1da1f2;
}


  </style>
</head>
<body>
  <div class="wrapper">
    <div class="image-container">
      <!-- Images will be added here -->
    </div>
    <div class="input-box">
      <div class="tweet-area">
        <span class="placeholder">What's happening?</span>
        <div class="input editable" contenteditable="true" spellcheck="false"></div>
        <div class="input readonly" contenteditable="true" spellcheck="false"></div>
      </div>
    </div>
    <div class="bottom">
      <ul class="icons">
        <li><i class="far fa-file-image" id="gallery-icon"></i></li>
        <li><i class="fa fa-camera" ></i></li>
        <li><i class="fa fa-microphone" id="mic-icon"></i></li>

      </ul>
      <div class="content">
        <span class="counter">100</span>
        <button id="tweet-button" disabled>Tweet</button>
      </div>
    </div>
  </div>

  <div class="modal fade" id="micModal" tabindex="-1" role="dialog" aria-labelledby="micModalLabel" aria-hidden="true" style="display: none;">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="micModalLabel">Mic Input</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">

          <div class="card border-0 icon3-modal">
            <div class="card-body bg-white text-center border-0" id="qna_audio_record_card_body_0_0">
                <img src="/Content/UmsTheme/assets/img/QAndA/miceGray.png" class="d-none" alt="" srcset="">
                <img src="/Content/UmsTheme/assets/img/QAndA/miceWave.png" alt="" srcset="">
                <img src="/Content/UmsTheme/assets/img/QAndA/mice.png" class="d-none" alt="" srcset="">
                <h3 class="my-3 qna-audio-record-timer" id="qna_audio_record_timer_0_0">00:00:00</h3>
                <hr style="border-top: 3px solid #B4B4B4; max-width: 300px;" class="audio-hr my-5 mx-auto">
                <img src="/Content/UmsTheme/assets/img/QAndA/voicewave.png" class="img-fluid waveimg d-none">
                <!--Sound Wave Start-->
                <div class="sound-wave">
                    <span class="bar"></span>
                    <span class="bar"></span>
                    <span class="bar"></span>
                    <span class="bar"></span>
                    <span class="bar"></span>
                    <span class="bar"></span>
                    <span class="bar"></span>
                    <span class="bar"></span>
                    <span class="bar"></span>
                    <span class="bar"></span>
                    <span class="bar"></span>
                    <span class="bar"></span>
                    <span class="bar"></span>
                    <span class="bar"></span>
                    <span class="bar"></span>
                    <span class="bar"></span>
                    <span class="bar"></span>
                    <span class="bar"></span>
                    <span class="bar"></span>
                    <span class="bar"></span>
                    <span class="bar"></span>
                    <span class="bar"></span>
                    <span class="bar"></span>
                    <span class="bar"></span>
                    <span class="bar"></span>
                    <span class "bar"></span>
                </div>
                <!--Sound Wave End-->
                <div class="play-pause d-none my-2">
                    <audio controls="" controlslist="nodownload noplaybackrate" id="qna_audio_record_payer_0_0">
                        Your browser does not support the audio element.
                    </audio>
                </div>
                <h6 class="my-3 pause d-none"><i class="fas fa-pause mx-auto qna-audio-record-pause" data-ext-id="0" data-ext-details-id="0"></i></h6>
                <h6 class="my-3 play d-none"><i class="fas fa-play mx-auto qna-audio-record-play" data-ext-id="0" data-ext-details-id="0"></i></h6>
                <a class="btn btn-start text-white px-3 py-1 qna-audio-record-start" id="qna_audio_record_start_0_0" data-ext-id="0" data-ext-details-id="0">Start</a>
                <a class="btn btn-danger text-white px-3 py-1 mt-3 d-none qna-audio-record-stop" id="qna_audio_record_stop_0_0" data-ext-id="0" data-ext-details-id="0">Stop</a>
                <div class="buttons d-none">
                    <button type="button" class="btn btn-delete px-3 py-1 mr-3 qna-audio-record-delete" id="qna_audio_record_delete_0_0" data-ext-id="0" data-ext-details-id="0">Delete</button>
                    <button type="button" class="btn btn-add btn-success px-4 py-1 qna-audio-record-add" id="qna_audio_record_upload_0_0" data-ext-id="0" data-ext-details-id="0">Add</button>
                </div>
            </div>
        </div>
    

        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
          <button type="button" class="btn btn-primary">Save changes</button>
        </div>
      </div>
    </div>
  </div>
  

 

  <script>
    const galleryIcon = document.getElementById("gallery-icon");
    const imageContainer = document.querySelector(".image-container");

    galleryIcon.addEventListener("click", function() {
      const fileInput = document.createElement("input");
      fileInput.type = "file";
      fileInput.accept = "image/*";
      fileInput.multiple = true;

      fileInput.click();

      fileInput.addEventListener("change", function() {
        const selectedImages = Array.from(fileInput.files);
        if (selectedImages.length > 0) {
          const imageUrls = selectedImages.map(image => URL.createObjectURL(image));
          displayImagesInContainer(imageUrls);
          fileInput.remove();
        }
      });
    });

    function displayImagesInContainer(imageUrls) {
      const imageContainer = document.querySelector(".image-container");
    
      // Show the image container
      imageContainer.style.display = "flex";
    
      imageUrls.forEach((imageUrl, index) => {
        const imageDiv = document.createElement("div");
        imageDiv.classList.add("image");
    
        const image = document.createElement("img");
        image.src = imageUrl;
        image.alt = `Selected Image ${index + 1}`;
    
        const deleteIcon = document.createElement("i");
        deleteIcon.classList.add("fas", "fa-times", "delete-icon");
        deleteIcon.onclick = function() {
          imageContainer.removeChild(imageDiv);
          // Hide the image container if there are no images left
          if (imageContainer.children.length === 0) {
            imageContainer.style.display = "none";
          }
        };
    
        imageDiv.appendChild(image);
        imageDiv.appendChild(deleteIcon);
        imageContainer.appendChild(imageDiv);
      });
    }

    const micModal = document.getElementById("micModal");
const micIcon = document.getElementById("mic-icon");
const micStartButton = document.getElementById("qna_audio_record_start_0_0");
const micStopButton = document.getElementById("qna_audio_record_stop_0_0");
const micPlayButton = document.querySelector(".qna-audio-record-play");
const micPauseButton = document.querySelector(".qna-audio-record-pause");
const micDeleteButton = document.getElementById("qna_audio_record_delete_0_0");
const micAddButton = document.getElementById("qna_audio_record_upload_0_0");

// Define variables for mic recording functionality
let audioChunks = [];
let mediaRecorder;
let micAudioURL;

// Function to start mic recording
function startMicRecording() {
  navigator.mediaDevices
    .getUserMedia({ audio: true })
    .then((stream) => {
      mediaRecorder = new MediaRecorder(stream);

      mediaRecorder.ondataavailable = (e) => {
        if (e.data.size > 0) {
          audioChunks.push(e.data);
        }
      };

      mediaRecorder.onstop = () => {
        const audioBlob = new Blob(audioChunks, { type: "audio/wav" });
        micAudioURL = URL.createObjectURL(audioBlob);
        micPlayButton.dataset.audioUrl = micAudioURL;
        micPlayButton.style.display = "block";
        micPauseButton.style.display = "none";
        micDeleteButton.style.display = "block";
        micAddButton.style.display = "block";
      };

      micStartButton.style.display = "none";
      micStopButton.style.display = "block";

      mediaRecorder.start();
    })
    .catch((error) => {
      console.error("Error accessing microphone:", error);
    });
}

// Function to stop mic recording
function stopMicRecording() {
  if (mediaRecorder && mediaRecorder.state === "recording") {
    mediaRecorder.stop();
  }
  micStartButton.style.display = "block";
  micStopButton.style.display = "none";
}

// Function to play mic audio
micPlayButton.addEventListener("click", () => {
  const audioPlayer = new Audio();
  audioPlayer.src = micPlayButton.dataset.audioUrl;
  audioPlayer.controls = true;
  audioPlayer.autoplay = true;
  const soundWave = document.querySelector(".sound-wave");
  soundWave.style.display = "none";
  micPauseButton.style.display = "block";
  micPlayButton.style.display = "none";
  document.querySelector(".play-pause").appendChild(audioPlayer);
});

// Function to pause mic audio
micPauseButton.addEventListener("click", () => {
  const audioPlayer = document.querySelector("audio");
  if (audioPlayer) {
    audioPlayer.pause();
  }
  micPlayButton.style.display = "block";
  micPauseButton.style.display = "none";
});

// Function to delete mic recording
micDeleteButton.addEventListener("click", () => {
  if (micAudioURL) {
    URL.revokeObjectURL(micAudioURL);
  }
  micAudioURL = "";
  audioChunks = [];
  micPlayButton.style.display = "none";
  micDeleteButton.style.display = "none";
  micAddButton.style.display = "none";
  document.querySelector(".sound-wave").style.display = "block";
  document.querySelector("audio").remove();
});

// Function to add mic recording
micAddButton.addEventListener("click", () => {
  // You can implement the logic to add the mic recording to your tweet here.
  // For example, you can append a link to the mic recording to the tweet text.
  // For now, let's just alert a message.
  alert("Mic recording added to the tweet.");
});

// Add a click event listener to the mic icon to show the mic modal
micIcon.addEventListener("click", () => {
  $('#micModal').modal('show');
});
  
  </script>

  <style>
    /* Adjust styles for proper image layout */
    .image-container {
      display: none;
      flex-wrap: nowrap;
      overflow-x: auto;
      border-bottom: 1px solid #000;
      margin-bottom: 10px;
    }

    .image {
      margin-right: 10px;
      position: relative;
    }

    .delete-icon {
      position: absolute;
      top: 5px;
      right: 5px;
      background: #fff;
      border: 1px solid #ccc;
      border-radius: 50%;
      cursor: pointer;
      color:red;
    }
  </style>

<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.3/dist/umd/popper.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

</body>
</html>